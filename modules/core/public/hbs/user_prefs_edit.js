{"user_prefs_edit":{"p":"user_prefs_edit","tf":"function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [2,'>= 1.0.0-rc.3'];\nhelpers = helpers || Handlebars.helpers; data = data || {};\n  var buffer = \"\", stack1, stack2, self=this, functionType=\"function\", blockHelperMissing=helpers.blockHelperMissing, escapeExpression=this.escapeExpression, helperMissing=helpers.helperMissing;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1, stack2, options;\n  buffer += \"\\n\t<form class=\\\"form-horizontal\\\" id=\\\"\";\n  if (stack1 = helpers._id) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0._id; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" method=\\\"POST\\\">\\n\t\t<div class=\\\"modal-header\\\">\\n\t\t\t<button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-hidden=\\\"true\\\">&times;</button>\\n\t\t\t<h3 id=\\\"myModalLabel\\\">\";\n  options = {hash:{},inverse:self.noop,fn:self.program(2, program2, data),data:data};\n  if (stack1 = helpers.i18n) { stack1 = stack1.call(depth0, options); }\n  else { stack1 = depth0.i18n; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  if (!helpers.i18n) { stack1 = blockHelperMissing.call(depth0, stack1, options); }\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"</h3>\\n\t\t</div>\\n\t\t<div class=\\\"modal-body\\\">\\n\t\t\t<div class='localctx'></div>\\n\t\t\t\";\n  options = {hash:{},inverse:self.noop,fn:self.program(4, program4, data),data:data};\n  stack2 = ((stack1 = helpers.when),stack1 ? stack1.call(depth0, depth0.type, \"!=\", \"guest\", options) : helperMissing.call(depth0, \"when\", depth0.type, \"!=\", \"guest\", options));\n  if(stack2 || stack2 === 0) { buffer += stack2; }\n  buffer += \"\\n\t\t\t<div class=\\\"control-group\\\">\\n\t\t\t\t<label class='control-label'>\";\n  options = {hash:{},inverse:self.noop,fn:self.program(15, program15, data),data:data};\n  if (stack2 = helpers.i18n) { stack2 = stack2.call(depth0, options); }\n  else { stack2 = depth0.i18n; stack2 = typeof stack2 === functionType ? stack2.apply(depth0) : stack2; }\n  if (!helpers.i18n) { stack2 = blockHelperMissing.call(depth0, stack2, options); }\n  if(stack2 || stack2 === 0) { buffer += stack2; }\n  buffer += \":</label>\\n\t\t\t\t<div class=\\\"controls\\\">\\n\t\t\t\t\t<select id=\\\"language\\\">\\n\t\t\t\t\t\t<option value=\\\"ru_RU\\\">\";\n  options = {hash:{},inverse:self.noop,fn:self.program(17, program17, data),data:data};\n  if (stack2 = helpers.i18n) { stack2 = stack2.call(depth0, options); }\n  else { stack2 = depth0.i18n; stack2 = typeof stack2 === functionType ? stack2.apply(depth0) : stack2; }\n  if (!helpers.i18n) { stack2 = blockHelperMissing.call(depth0, stack2, options); }\n  if(stack2 || stack2 === 0) { buffer += stack2; }\n  buffer += \"</option>\\n\t\t\t\t\t\t<option value=\\\"en_US\\\">\";\n  options = {hash:{},inverse:self.noop,fn:self.program(19, program19, data),data:data};\n  if (stack2 = helpers.i18n) { stack2 = stack2.call(depth0, options); }\n  else { stack2 = depth0.i18n; stack2 = typeof stack2 === functionType ? stack2.apply(depth0) : stack2; }\n  if (!helpers.i18n) { stack2 = blockHelperMissing.call(depth0, stack2, options); }\n  if(stack2 || stack2 === 0) { buffer += stack2; }\n  buffer += \"</option>\\n\t\t\t\t\t</select>\\n\t\t\t\t</div>\\n\t\t\t</div>\\n\t\t\t<div class=\\\"control-group\\\">\\n\t\t\t\t<label class='control-label'>\";\n  options = {hash:{},inverse:self.noop,fn:self.program(21, program21, data),data:data};\n  if (stack2 = helpers.i18n) { stack2 = stack2.call(depth0, options); }\n  else { stack2 = depth0.i18n; stack2 = typeof stack2 === functionType ? stack2.apply(depth0) : stack2; }\n  if (!helpers.i18n) { stack2 = blockHelperMissing.call(depth0, stack2, options); }\n  if(stack2 || stack2 === 0) { buffer += stack2; }\n  buffer += \":</label>\\n\t\t\t\t<div class=\\\"controls\\\">\\n\t\t\t\t\t<select id=\\\"timeZone\\\">\\n\t\t\t\t\t  <option value=\\\"-12.0\\\">(GMT -12:00) Eniwetok, Kwajalein</option>\\n\t\t\t\t\t  <option value=\\\"-11.0\\\">(GMT -11:00) Midway Island, Samoa</option>\\n\t\t\t\t\t  <option value=\\\"-10.0\\\">(GMT -10:00) Hawaii</option>\\n\t\t\t\t\t  <option value=\\\"-9.0\\\">(GMT -9:00) Alaska</option>\\n\t\t\t\t\t  <option value=\\\"-8.0\\\">(GMT -8:00) Pacific Time (US &amp; Canada)</option>\\n\t\t\t\t\t  <option value=\\\"-7.0\\\">(GMT -7:00) Mountain Time (US &amp; Canada)</option>\\n\t\t\t\t\t  <option value=\\\"-6.0\\\">(GMT -6:00) Central Time (US &amp; Canada), Mexico City</option>\\n\t\t\t\t\t  <option value=\\\"-5.0\\\">(GMT -5:00) Eastern Time (US &amp; Canada), Bogota, Lima</option>\\n\t\t\t\t\t  <option value=\\\"-4.0\\\">(GMT -4:00) Atlantic Time (Canada), Caracas, La Paz</option>\\n\t\t\t\t\t  <option value=\\\"-3.5\\\">(GMT -3:30) Newfoundland</option>\\n\t\t\t\t\t  <option value=\\\"-3.0\\\">(GMT -3:00) Brazil, Buenos Aires, Georgetown</option>\\n\t\t\t\t\t  <option value=\\\"-2.0\\\">(GMT -2:00) Mid-Atlantic</option>\\n\t\t\t\t\t  <option value=\\\"-1.0\\\">(GMT -1:00 hour) Azores, Cape Verde Islands</option>\\n\t\t\t\t\t  <option value=\\\"0.0\\\">(GMT) Western Europe Time, London, Lisbon, Casablanca</option>\\n\t\t\t\t\t  <option value=\\\"1.0\\\">(GMT +1:00 hour) Brussels, Copenhagen, Madrid, Paris</option>\\n\t\t\t\t\t  <option value=\\\"2.0\\\">(GMT +2:00) Kaliningrad, South Africa</option>\\n\t\t\t\t\t  <option value=\\\"3.0\\\">(GMT +3:00) Baghdad, Riyadh, Moscow, St. Petersburg</option>\\n\t\t\t\t\t  <option value=\\\"3.5\\\">(GMT +3:30) Tehran</option>\\n\t\t\t\t\t  <option value=\\\"4.0\\\">(GMT +4:00) Abu Dhabi, Muscat, Baku, Tbilisi</option>\\n\t\t\t\t\t  <option value=\\\"4.5\\\">(GMT +4:30) Kabul</option>\\n\t\t\t\t\t  <option value=\\\"5.0\\\">(GMT +5:00) Ekaterinburg, Islamabad, Karachi, Tashkent</option>\\n\t\t\t\t\t  <option value=\\\"5.5\\\">(GMT +5:30) Bombay, Calcutta, Madras, New Delhi</option>\\n\t\t\t\t\t  <option value=\\\"5.75\\\">(GMT +5:45) Kathmandu</option>\\n\t\t\t\t\t  <option value=\\\"6.0\\\">(GMT +6:00) Almaty, Dhaka, Colombo</option>\\n\t\t\t\t\t  <option value=\\\"7.0\\\">(GMT +7:00) Bangkok, Hanoi, Jakarta</option>\\n\t\t\t\t\t  <option value=\\\"8.0\\\">(GMT +8:00) Beijing, Perth, Singapore, Hong Kong</option>\\n\t\t\t\t\t  <option value=\\\"9.0\\\">(GMT +9:00) Tokyo, Seoul, Osaka, Sapporo, Yakutsk</option>\\n\t\t\t\t\t  <option value=\\\"9.5\\\">(GMT +9:30) Adelaide, Darwin</option>\\n\t\t\t\t\t  <option value=\\\"10.0\\\">(GMT +10:00) Eastern Australia, Guam, Vladivostok</option>\\n\t\t\t\t\t  <option value=\\\"11.0\\\">(GMT +11:00) Magadan, Solomon Islands, New Caledonia</option>\\n\t\t\t\t\t  <option value=\\\"12.0\\\">(GMT +12:00) Auckland, Wellington, Fiji, Kamchatka</option>\\n\t\t\t\t\t</select>\\n\t\t\t\t</div>\\n\t\t\t</div>\\n\t\t</div>\\n\t\t<div class=\\\"modal-footer\\\">\\n\t\t\t<button class=\\\"btn\\\" data-dismiss=\\\"modal\\\" aria-hidden=\\\"true\\\">Close</button>\\n\t\t\t<button class=\\\"btn btn-primary\\\" id=\\\"save\\\" type=\\\"submit\\\">Save</button>\\n\t\t</div>\\n\t</form>\\n\";\n  return buffer;\n  }\nfunction program2(depth0,data) {\n  \n  \n  return \"Account prefferences\";\n  }\n\nfunction program4(depth0,data) {\n  \n  var buffer = \"\", stack1, options;\n  buffer += \"\\n\t\t\t<div class=\\\"control-group\\\">\\n\t\t\t\t<label class='control-label'>\";\n  options = {hash:{},inverse:self.noop,fn:self.program(5, program5, data),data:data};\n  if (stack1 = helpers.i18n) { stack1 = stack1.call(depth0, options); }\n  else { stack1 = depth0.i18n; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  if (!helpers.i18n) { stack1 = blockHelperMissing.call(depth0, stack1, options); }\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \":</label>\\n\t\t\t\t<div class=\\\"controls\\\">\\n\t\t\t\t\t<input id=\\\"firstName\\\" type=\\\"text\\\" value=\\\"\";\n  if (stack1 = helpers.firstName) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.firstName; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\\n\t\t\t\t</div>\\n\t\t\t</div>\\n\t\t\t<div class=\\\"control-group\\\">\\n\t\t\t\t<label class='control-label'>\";\n  options = {hash:{},inverse:self.noop,fn:self.program(7, program7, data),data:data};\n  if (stack1 = helpers.i18n) { stack1 = stack1.call(depth0, options); }\n  else { stack1 = depth0.i18n; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  if (!helpers.i18n) { stack1 = blockHelperMissing.call(depth0, stack1, options); }\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \":</label>\\n\t\t\t\t<div class=\\\"controls\\\">\\n\t\t\t\t\t<input id=\\\"lastName\\\" type=\\\"text\\\" value=\\\"\";\n  if (stack1 = helpers.lastName) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.lastName; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\\n\t\t\t\t</div>\\n\t\t\t</div>\\n\t\t\t<div class=\\\"control-group\\\">\\n\t\t\t\t<label class='control-label'>\";\n  options = {hash:{},inverse:self.noop,fn:self.program(9, program9, data),data:data};\n  if (stack1 = helpers.i18n) { stack1 = stack1.call(depth0, options); }\n  else { stack1 = depth0.i18n; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  if (!helpers.i18n) { stack1 = blockHelperMissing.call(depth0, stack1, options); }\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \":</label>\\n\t\t\t\t<div class=\\\"controls\\\">\\n\t\t\t\t\t<input id=\\\"login\\\" type=\\\"text\\\" value=\\\"\";\n  if (stack1 = helpers.login) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.login; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\\n\t\t\t\t</div>\\n\t\t\t</div>\\n\t\t\t<div class=\\\"control-group\\\">\\n\t\t\t\t<label class='control-label'>\";\n  options = {hash:{},inverse:self.noop,fn:self.program(11, program11, data),data:data};\n  if (stack1 = helpers.i18n) { stack1 = stack1.call(depth0, options); }\n  else { stack1 = depth0.i18n; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  if (!helpers.i18n) { stack1 = blockHelperMissing.call(depth0, stack1, options); }\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \":</label>\\n\t\t\t\t<div class=\\\"controls\\\">\\n\t\t\t\t\t<input id=\\\"changePass\\\" type=\\\"checkbox\\\">\\n\t\t\t\t</div>\\n\t\t\t</div>\\n\t\t\t<div class=\\\"control-group pass\\\" style=\\\"display:none\\\">\\n\t\t\t\t<label class='control-label'>\";\n  options = {hash:{},inverse:self.noop,fn:self.program(13, program13, data),data:data};\n  if (stack1 = helpers.i18n) { stack1 = stack1.call(depth0, options); }\n  else { stack1 = depth0.i18n; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  if (!helpers.i18n) { stack1 = blockHelperMissing.call(depth0, stack1, options); }\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \":</label>\\n\t\t\t\t<div class=\\\"controls\\\">\\n\t\t\t\t\t<input id=\\\"password\\\" type=\\\"password\\\">\\n\t\t\t\t</div>\\n\t\t\t</div>\\n\t\t\";\n  return buffer;\n  }\nfunction program5(depth0,data) {\n  \n  \n  return \"First name\";\n  }\n\nfunction program7(depth0,data) {\n  \n  \n  return \"Last name\";\n  }\n\nfunction program9(depth0,data) {\n  \n  \n  return \"Login\";\n  }\n\nfunction program11(depth0,data) {\n  \n  \n  return \"Change password\";\n  }\n\nfunction program13(depth0,data) {\n  \n  \n  return \"Password\";\n  }\n\nfunction program15(depth0,data) {\n  \n  \n  return \"Gui language\";\n  }\n\nfunction program17(depth0,data) {\n  \n  \n  return \"Russian\";\n  }\n\nfunction program19(depth0,data) {\n  \n  \n  return \"English\";\n  }\n\nfunction program21(depth0,data) {\n  \n  \n  return \"Timezone\";\n  }\n\n  buffer += \"<div id=\\\"\";\n  if (stack1 = helpers.uniq) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.uniq; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"modal hide fade\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-hidden=\\\"true\\\" data-backdrop=\\\"static\\\">\\n\";\n  stack1 = helpers['with'].call(depth0, depth0.luser, {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n</div>\\n<script>\\nrequire([\\\"jquery\\\",\\\"jquery-block\\\"],function($){\\n\t$(function(e) {\\n\t\tvar $form = $(\\\"#\";\n  if (stack1 = helpers.uniq) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.uniq; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"\\\");\\n\t\t$form.find(\\\"#changePass\\\").click(function(){\\n\t\t\t$form.find(\\\".pass\\\").toggle();\\n\t\t});\\n\t\t$form.on('hidden',function () {\\n\t\t\t$form.remove();\\n\t\t});\\n\t\t$form.find(\\\"#timeZone\\\").val(\\\"\"\n    + escapeExpression(((stack1 = ((stack1 = depth0.luser),stack1 == null || stack1 === false ? stack1 : stack1.timeZone)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"\\\");\\n\t\t$form.find(\\\"#language\\\").val(\\\"\"\n    + escapeExpression(((stack1 = ((stack1 = depth0.luser),stack1 == null || stack1 === false ? stack1 : stack1.language)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"\\\");\\n\\n\t\t$form.find(\\\"form\\\").submit(function (event) {\\n\t\t\tevent.preventDefault();\\n\t\t\t$form.block();\\n\t\t\t(function(cb) {\\n\t\t\t\trequire([\\\"api\\\",\\\"safe\\\"], function (api,safe) {\\n\t\t\t\t\tvar user = {\\n\t\t\t\t\t\t_id: \\\"\"\n    + escapeExpression(((stack1 = ((stack1 = depth0.luser),stack1 == null || stack1 === false ? stack1 : stack1._id)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"\\\",\\n\t\t\t\t\t\tfirstName: $(\\\"#firstName\\\").val(),\\n\t\t\t\t\t\tlastName: $(\\\"#lastName\\\").val(),\\n\t\t\t\t\t\tlogin: $(\\\"#login\\\").val(),\\n\t\t\t\t\t\ttimeZone: $(\\\"#timeZone option:selected\\\").val(),\\n\t\t\t\t\t\tlanguage: $(\\\"#language option:selected\\\").val()\\n\t\t\t\t\t};\\n\\n\t\t\t\t\tif (user._id.length==0)\\n\t\t\t\t\t\tdelete user._id;\\n\\n\t\t\t\t\tif ($(\\\"#changePass\\\").is(\\\":checked\\\")) {\\n\t\t\t\t\t\tuser.password = $form.find(\\\"#password\\\").val();\\n\t\t\t\t\t}\\n\\n\t\t\t\t\tif ('\";\n  if (stack2 = helpers.type) { stack2 = stack2.call(depth0, {hash:{},data:data}); }\n  else { stack2 = depth0.type; stack2 = typeof stack2 === functionType ? stack2.apply(depth0) : stack2; }\n  buffer += escapeExpression(stack2)\n    + \"' == 'guest') {\\n\t\t\t\t\t\tapi.call('core.saveSystemSettings', 'guest', user, safe.sure_result(cb, function (user) {\\n\t\t\t\t\t\t\t$form.trigger(\\\"frm-saved\\\",user);\\n\t\t\t\t\t\t}))\\n\t\t\t\t\t} else {\\n\t\t\t\t\t\tapi.call('core.saveUser', user, safe.sure_result(cb, function (user) {\\n\t\t\t\t\t\t\t$form.trigger(\\\"frm-saved\\\",user);\\n\t\t\t\t\t\t}))\\n\t\t\t\t\t}\\n\t\t\t\t},cb);\\n\t\t\t})(function (err) {\\n\t\t\t\tif (err) appError(err);\\n\t\t\t\t$form.unblock();\\n\t\t\t})\\n\t\t})\\n\t})\\n}, appError)\\n</script>\\n\";\n  return buffer;\n  }","mt":1412000137000,"pt":[]},"hogan":{"v":4,"st":"user_prefs_edit"}}